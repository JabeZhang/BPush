# 一、背景

## 1. 推送服务
移动互联网时代，推送 (Push) 服务成为 App 应用不可或缺的重要组成部分，推送服务可以提升用户的活跃度和留存率。我们的手机每天接收到各种各样的广告和提示消息等大多数都是通过推送服务实现的。

随着物联网的发展，大多数的智能家居都支持移动推送服务，未来所有接入物联网的智能设备都将是推送服务的客户端，这就意味着推送服务未来会面临海量的设备和终端接入。

## 2. 特点
移动推送服务的主要特点如下：

- 使用的网络主要是运营商的无线移动网络，网络质量不稳定，例如在地铁上信号就很差，容易发生网络闪断；
- 海量的客户端接入，而且通常使用长连接，无论是客户端还是服务端，资源消耗都非常大；
- 由于谷歌的推送框架无法在国内使用，Android 的长连接是由每个应用各自维护的，这就意味着每台安卓设备上会存在多个长连接。即便没有消息需要推送，长连接本身的心跳消息量也是非常巨大的，这就会导致流量和耗电量的增加；
- 不稳定：消息丢失、重复推送、延迟送达、过期推送时有发生；
- 垃圾消息满天飞，缺乏统一的服务治理能力。

为了解决上述弊端，一些企业也给出了自己的解决方案，例如京东云推出的推送服务，可以实现多应用单服务单连接模式，使用 AlarmManager 定时心跳节省电量和流量。


